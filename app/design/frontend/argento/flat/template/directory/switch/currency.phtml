<?php
/**
 * Currency switcher
 *
 * @see Mage_Directory_Block_Currency
 */
?>
<?php if($this->getCurrencyCount()>1): ?>
<div class="form-currency">
    <label name="select-currency"><?php echo $this->__('Select Your Currency') ?></label>
    <select id="select-currency" title="<?php echo $this->__('Select Your Currency') ?>" onchange="setLocation(this.value)">
    <?php foreach ($this->getCurrencies() as $_code => $_name): ?>
        <option value="<?php echo $this->getSwitchCurrencyUrl($_code) ?>"<?php if($_code==$this->getCurrentCurrencyCode()): ?> selected="selected"<?php endif; ?>>
            <?php echo $_name ?> - <?php echo $_code ?>
        </option>
    <?php endforeach; ?>
    </select>

    <script type="text/javascript">
        new Chosen($('select-currency'), {
            disable_search_threshold: 10,
            search_contains: true,
            width: 'auto'
        });
    </script>
</div>
<?php endif; ?>
